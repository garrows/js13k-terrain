<html>

<body>
    <style>
        html {
            box-sizing: border-box;
        }

        *,
        *:before,
        *:after {
            box-sizing: inherit;
            padding: 0;
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%;
        }
    </style>

    <canvas width="500" height="500"></canvas>

    <!-- dev only -->
    <script>
        window.DEBUG = true;
    </script>
    <script src="dev/lib/dat.gui.min.js"></script>
    <script>
        document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')
    </script>
    <!-- dev only -->

    <script>
        var data = {
            message: 'Hello',
            background: '#000000',
            foreground: '#FFFFFF',
            fontSize: 16,
            x: 100,
            y: 100,
        };



        window.onload = function() {
            var canvas = document.querySelector('canvas'),
                ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            if (window.DEBUG) {
                var gui = new dat.GUI();
                gui.remember(data);
                gui.add(data, 'message');
                gui.add(data, 'fontSize', 0, 100);
                gui.add(data, 'x', 0, canvas.width);
                gui.add(data, 'y', 0, canvas.height).listen();
                gui.addColor(data, 'background');
                gui.addColor(data, 'foreground');
            }

            var draw = (timestamp) => {
                data.y = (canvas.height / 2) + 50 * -Math.abs(Math.sin(timestamp / 300));

                ctx.fillStyle = data.background;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = data.foreground;
                ctx.font = data.fontSize + 'px sans-serif';
                ctx.fillText(data.message, data.x, data.y);
                requestAnimationFrame(draw);
            }

            draw();
        };
    </script>
</body>

</html>